```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend
    participant IntentAgent
    participant RetrievalAgent
    participant GenerationAgent
    participant ValidationAgent

    User->>Frontend: submits query
    Frontend->>Backend: POST /v1/query (query)
    Backend->>IntentAgent: detect_intent(query)
    IntentAgent-->>Backend: intent
    Backend->>RetrievalAgent: retrieve(query, top_k)
    RetrievalAgent-->>Backend: chunks
    Backend->>GenerationAgent: generate(query, intent, chunks)
    GenerationAgent-->>Backend: generated_answer
    Backend->>ValidationAgent: validate(generated_answer, context)
    ValidationAgent-->>Backend: validated_answer + citations
    Backend-->>Frontend: response (answer, citations)
    Frontend-->>User: render answer
```

```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend
    User->>Frontend: login
    Frontend->>Backend: auth request
    Backend-->>Frontend: session/token
    Frontend-->>User: authenticated UI
```
